{"version":3,"sources":["../../app/routes/pizza.router.ts"],"names":["pizzaRouter","handleUnhandledError","err","_req","res","_next","console","error","status","end","post","AuthVerify","Pizza","createPizza","get","getPizzas","getPizzabyId","use","handleUnauthorizedError"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AAIA,IAAMA,WAAW,GAAG,sBAApB;;AAEA,IAAMC,oBAAgC,GAAG,SAAnCA,oBAAmC,CACrCC,GADqC,EAErCC,IAFqC,EAGrCC,GAHqC,EAIrCC,KAJqC,EAKlC;AACHC,EAAAA,OAAO,CAACC,KAAR,CAAc,iBAAd,EAAiCL,GAAjC;AACA,SAAOE,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EAAP;AACD,CARH;;AAUA;AACAT,WAAW,CAACU,IAAZ,CAAiB,QAAjB,EAA2BC,gBAA3B,EAAuCC,KAAK,CAACC,WAA7C;AACAb,WAAW,CAACc,GAAZ,CAAgB,YAAhB,EAA8BF,KAAK,CAACG,SAApC;AACAf,WAAW,CAACc,GAAZ,CAAgB,sBAAhB,EAAwCF,KAAK,CAACI,YAA9C;AACAhB,WAAW,CAACiB,GAAZ,CAAgBC,6BAAhB;AACAlB,WAAW,CAACiB,GAAZ,CAAgBhB,oBAAhB;eAGeD,W","sourcesContent":["import {Router} from 'express';\nimport initializeDb from \"../config/db\";\nimport * as Pizza from '../controller/pizza';\nimport {AuthVerify, handleUnauthorizedError} from \"../middleware/auth\";\nimport {Middleware} from \"Diwala\";\n\n\nconst pizzaRouter = Router();\n\nconst handleUnhandledError: Middleware = (\n    err: any,\n    _req: any,\n    res: any,\n    _next: any\n  ) => {\n    console.error(\"unhandled error\", err);\n    return res.status(500).end();\n  };\n\ninitializeDb();\npizzaRouter.post('/pizza', AuthVerify, Pizza.createPizza)\npizzaRouter.get('/get-pizza', Pizza.getPizzas)\npizzaRouter.get('/get-pizza-by-id/:id', Pizza.getPizzabyId)\npizzaRouter.use(handleUnauthorizedError);\npizzaRouter.use(handleUnhandledError);\n\n\nexport default pizzaRouter;\n\n\n\n"],"file":"pizza.router.js"}