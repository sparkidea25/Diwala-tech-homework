{"version":3,"sources":["../../app/routes/order.router.ts"],"names":["orderRouter","handleUnhandledError","err","_req","res","_next","console","error","status","end","post","AuthVerify","Order","createOrder","get","getAllOrders","getOrderById","use","handleUnauthorizedError"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AAIA,IAAMA,WAAW,GAAG,sBAApB;;AAEA,IAAMC,oBAAgC,GAAG,SAAnCA,oBAAmC,CACrCC,GADqC,EAErCC,IAFqC,EAGrCC,GAHqC,EAIrCC,KAJqC,EAKlC;AACHC,EAAAA,OAAO,CAACC,KAAR,CAAc,iBAAd,EAAiCL,GAAjC;AACA,SAAOE,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EAAP;AACD,CARH;;AAUA;AACAT,WAAW,CAACU,IAAZ,CAAiB,QAAjB,EAA2BC,gBAA3B,EAAuCC,KAAK,CAACC,WAA7C;AACAb,WAAW,CAACc,GAAZ,CAAgB,YAAhB,EAA8BH,gBAA9B,EAA0CC,KAAK,CAACG,YAAhD;AACAf,WAAW,CAACc,GAAZ,CAAgB,sBAAhB,EAAwCH,gBAAxC,EAAoDC,KAAK,CAACI,YAA1D;AACAhB,WAAW,CAACiB,GAAZ,CAAgBC,6BAAhB;AACAlB,WAAW,CAACiB,GAAZ,CAAgBhB,oBAAhB;eAGeD,W","sourcesContent":["import {Router} from 'express';\nimport initializeDb from \"../config/db\";\nimport * as Order from '../controller/order';\nimport {AuthVerify, handleUnauthorizedError} from \"../middleware/auth\";\nimport {Middleware} from \"Diwala\";\n\n\nconst orderRouter = Router();\n\nconst handleUnhandledError: Middleware = (\n    err: any,\n    _req: any,\n    res: any,\n    _next: any\n  ) => {\n    console.error(\"unhandled error\", err);\n    return res.status(500).end();\n  };\n\ninitializeDb();\norderRouter.post('/order', AuthVerify, Order.createOrder)\norderRouter.get('/get-order', AuthVerify, Order.getAllOrders)\norderRouter.get('/get-order-by-id/:id', AuthVerify, Order.getOrderById)\norderRouter.use(handleUnauthorizedError);\norderRouter.use(handleUnhandledError);\n\n\nexport default orderRouter;\n\n\n\n"],"file":"order.router.js"}